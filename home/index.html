<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kasa Kolawole - Dashboard</title>
    <meta name="description" content="Kasa Kolawole professional portfolio and business platform">
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Animate.css -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    
    <!-- Home CSS (includes global styles via @import) -->
    <link rel="stylesheet" href="home.css">
</head>
<body>
    <!-- Navigation Header -->
    <header class="app-header" id="appHeader">
        <div class="header-container">
            <!-- Logo/Brand -->
            <div class="brand-section">
                <div class="logo-container">
                    <i class="fas fa-crown logo-icon"></i>
                    <h1 class="brand-name">Kasa Kolawole</h1>
                </div>
            </div>
            
            <!-- Navigation Menu -->
            <nav class="main-navigation" id="mainNav">
                <ul class="nav-list" id="navList">
                    <!-- Navigation items will be populated dynamically -->
                </ul>
                
                <!-- Mobile Menu Toggle -->
                <button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="Toggle mobile menu">
                    <span class="hamburger-line"></span>
                    <span class="hamburger-line"></span>
                    <span class="hamburger-line"></span>
                </button>
            </nav>
            
            <!-- User Actions -->
            <div class="user-actions">
                <div class="user-info" id="userInfo">
                    <span class="user-name" id="userName">Welcome</span>
                    <div class="user-menu-container">
                        <button class="user-menu-toggle" id="userMenuToggle" aria-label="User menu">
                            <i class="fas fa-user-circle"></i>
                        </button>
                        <div class="user-dropdown" id="userDropdown">
                            <a href="#profile" class="dropdown-item">
                                <i class="fas fa-user"></i>
                                Profile
                            </a>
                            <a href="#settings" class="dropdown-item">
                                <i class="fas fa-cog"></i>
                                Settings
                            </a>
                            <hr class="dropdown-divider">
                            <a href="#logout" class="dropdown-item" data-action="logout">
                                <i class="fas fa-sign-out-alt"></i>
                                Logout
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content Area -->
    <main class="app-main" id="appMain">
        <!-- Dynamic Tab Content Container -->
        <div class="tab-content-container" id="tabContentContainer">
            <!-- Content will be loaded dynamically based on active tab -->
            <div class="tab-content active" id="homeContent">
                <!-- Hero Section -->
                <section class="hero-section">
                    <div class="container">
                        <div class="hero-content animate__animated animate__fadeInUp">
                            <h1 class="hero-title">Loading...</h1>
                            <p class="hero-subtitle">Loading content...</p>
                            <p class="hero-description">
                                Please wait while we load your content.
                            </p>
                            <div class="hero-actions">
                                <!-- Buttons will be populated dynamically -->
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Introduction Section -->
                <section class="introduction-section">
                    <div class="container">
                        <div class="intro-grid">
                            <div class="intro-text animate__animated animate__fadeInLeft">
                                <h2>Loading...</h2>
                                <!-- Content will be populated dynamically -->
                            </div>
                            <div class="intro-image animate__animated animate__fadeInRight">
                                <div class="image-placeholder">
                                    <i class="fas fa-user-tie"></i>
                                    <p>Professional Photo</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Featured Work Section -->
                <section class="featured-section">
                    <div class="container">
                        <h2 class="section-title text-center">Loading...</h2>
                        <div class="featured-grid">
                            <!-- Cards will be populated dynamically -->
                        </div>
                    </div>
                </section>

                <!-- Call to Action Section -->
                <section class="cta-section">
                    <div class="container">
                        <div class="cta-content text-center">
                            <h2>Loading...</h2>
                            <p>Please wait while we load your content.</p>
                            <div class="cta-actions">
                                <!-- Buttons will be populated dynamically -->
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="app-footer" id="appFooter">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <div class="footer-brand">
                        <div class="logo-container">
                            <i class="fas fa-crown logo-icon"></i>
                            <span class="brand-name">Kasa Kolawole</span>
                        </div>
                        <p>Loading description...</p>
                    </div>
                </div>
                
                <div class="footer-section">
                    <h4>Quick Links</h4>
                    <ul class="footer-links">
                        <li><a href="#home" data-tab="home">Home</a></li>
                        <li><a href="#about" data-tab="about">About</a></li>
                        <li><a href="#portfolio" data-tab="portfolio">Portfolio</a></li>
                        <li><a href="#services" data-tab="services">Services</a></li>
                        <li><a href="#blog" data-tab="blog">Blog</a></li>
                        <li><a href="#contact" data-tab="contact">Contact</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>Connect</h4>
                    <div class="social-links" id="socialLinks">
                        <!-- Social links will be populated dynamically -->
                    </div>
                </div>
                
                <div class="footer-section">
                    <h4>Contact Info</h4>
                    <div class="contact-info">
                        <!-- Contact info will be populated dynamically -->
                    </div>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2025 Kasa Kolawole. All rights reserved.</p>
                <div class="footer-bottom-links">
                    <a href="#privacy">Privacy Policy</a>
                    <a href="#terms">Terms of Service</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay" style="display: none;">
        <div class="loading-content">
            <div class="spinner"></div>
            <p>Loading...</p>
        </div>
    </div>

    <!-- Global JavaScript -->
    <script src="/assets/js/global.js"></script>

    <!-- Simplified Home Page JavaScript -->
    <script>
        console.log('üè† Starting Home Page...');
        
        // Simple initialization that doesn't depend on complex dependencies
        document.addEventListener('DOMContentLoaded', async function() {
            console.log('üìÑ DOM Ready');
            
            // Basic setup
            try {
                // Load and display content from JSON
                await loadHomeContent();
                
                // Setup basic navigation
                setupNavigation();
                
                // Setup user interface
                setupUserInterface();
                
                console.log('‚úÖ Home page initialized successfully');
                
            } catch (error) {
                console.error('‚ùå Error initializing home page:', error);
                showFallbackContent();
            }
        });

        // Load content from home.json
        async function loadHomeContent() {
            try {
                const response = await fetch('/home/home.json');
                if (!response.ok) throw new Error(`HTTP ${response.status}`);
                
                const config = await response.json();
                console.log('‚úÖ Home config loaded');
                
                // Update hero section
                if (config.hero) {
                    updateElement('.hero-title', config.hero.title);
                    updateElement('.hero-subtitle', config.hero.subtitle);
                    updateElement('.hero-description', config.hero.description);
                    
                    // Update hero buttons
                    const heroActions = document.querySelector('.hero-actions');
                    if (heroActions && config.hero.buttons) {
                        heroActions.innerHTML = config.hero.buttons.map(btn => 
                            `<a href="#" class="btn btn-${btn.type}" data-tab="${btn.target}">
                                <i class="${btn.icon}"></i> ${btn.text}
                            </a>`
                        ).join('');
                    }
                }
                
                // Update introduction
                if (config.introduction) {
                    updateElement('.intro-text h2', config.introduction.title);
                    
                    if (config.introduction.content) {
                        const introText = document.querySelector('.intro-text');
                        if (introText) {
                            // Clear existing paragraphs except title
                            const title = introText.querySelector('h2');
                            introText.innerHTML = '';
                            if (title) introText.appendChild(title);
                            
                            // Add new content
                            config.introduction.content.forEach(item => {
                                if (item.type === 'paragraph') {
                                    const p = document.createElement('p');
                                    p.textContent = item.text;
                                    introText.appendChild(p);
                                }
                            });
                        }
                    }
                }
                
                // Update featured section
                if (config.featured) {
                    updateElement('.section-title', config.featured.title);
                    
                    const featuredGrid = document.querySelector('.featured-grid');
                    if (featuredGrid && config.featured.items) {
                        featuredGrid.innerHTML = config.featured.items.map(item => 
                            `<div class="featured-card">
                                <div class="card-icon">
                                    <i class="${item.icon}"></i>
                                </div>
                                <h3>${item.title}</h3>
                                <p>${item.description}</p>
                            </div>`
                        ).join('');
                    }
                }
                
                // Update CTA section
                if (config.callToAction) {
                    updateElement('.cta-content h2', config.callToAction.title);
                    updateElement('.cta-content p', config.callToAction.description);
                    
                    const ctaActions = document.querySelector('.cta-actions');
                    if (ctaActions && config.callToAction.buttons) {
                        ctaActions.innerHTML = config.callToAction.buttons.map(btn => 
                            `<a href="#" class="btn btn-${btn.type}" data-tab="${btn.target}">
                                <i class="${btn.icon}"></i> ${btn.text}
                            </a>`
                        ).join('');
                    }
                }
                
                // Update footer
                if (config.footer && config.footer.company) {
                    updateElement('.footer-brand .brand-name', config.footer.company.name);
                    updateElement('.footer-brand p', config.footer.company.description);
                }
                
                if (config.footer && config.footer.copyright) {
                    updateElement('.footer-bottom p', config.footer.copyright);
                }
                
                // Update social links
                if (config.socialLinks) {
                    const socialContainer = document.querySelector('#socialLinks');
                    if (socialContainer) {
                        socialContainer.innerHTML = config.socialLinks.map(social => 
                            `<a href="${social.url}" class="social-link" title="${social.name}" target="_blank">
                                <i class="${social.icon}"></i>
                            </a>`
                        ).join('');
                    }
                }
                
                // Update contact info
                if (config.contact) {
                    const contactInfo = document.querySelector('.contact-info');
                    if (contactInfo) {
                        contactInfo.innerHTML = `
                            <p><i class="fas fa-envelope"></i> ${config.contact.email}</p>
                            <p><i class="fas fa-phone"></i> ${config.contact.phone}</p>
                            <p><i class="fas fa-map-marker-alt"></i> ${config.contact.location}</p>
                        `;
                    }
                }
                
            } catch (error) {
                console.error('‚ùå Failed to load home content:', error);
                throw error;
            }
        }

        // Setup navigation
        async function setupNavigation() {
            try {
                const response = await fetch('/app.json');
                const appConfig = await response.json();
                
                const navList = document.querySelector('#navList');
                if (navList && appConfig.navigation && appConfig.navigation.tabs) {
                    navList.innerHTML = appConfig.navigation.tabs
                        .filter(tab => tab.name !== 'landing')
                        .map(tab => 
                            `<li class="nav-item">
                                <a href="#" class="nav-link ${tab.name === 'home' ? 'active' : ''}" data-tab="${tab.name}">
                                    <i class="${tab.icon}"></i> ${tab.label}
                                </a>
                            </li>`
                        ).join('');
                }
                
                console.log('‚úÖ Navigation setup complete');
                
            } catch (error) {
                console.log('‚ö†Ô∏è Using fallback navigation');
                const navList = document.querySelector('#navList');
                if (navList) {
                    navList.innerHTML = `
                        <li class="nav-item"><a href="#" class="nav-link active" data-tab="home"><i class="fas fa-home"></i> Home</a></li>
                        <li class="nav-item"><a href="#" class="nav-link" data-tab="about"><i class="fas fa-user"></i> About</a></li>
                        <li class="nav-item"><a href="#" class="nav-link" data-tab="portfolio"><i class="fas fa-briefcase"></i> Portfolio</a></li>
                        <li class="nav-item"><a href="#" class="nav-link" data-tab="services"><i class="fas fa-cogs"></i> Services</a></li>
                        <li class="nav-item"><a href="#" class="nav-link" data-tab="contact"><i class="fas fa-envelope"></i> Contact</a></li>
                    `;
                }
            }
        }

        // Setup user interface
        function setupUserInterface() {
            // Update user name
            const userNameElement = document.querySelector('.user-name');
            if (userNameElement) {
                userNameElement.textContent = 'TestUser';
            }
            
            // Add click handlers for navigation
            document.addEventListener('click', function(e) {
                if (e.target.classList.contains('nav-link') || e.target.closest('.nav-link')) {
                    e.preventDefault();
                    const link = e.target.classList.contains('nav-link') ? e.target : e.target.closest('.nav-link');
                    const tabName = link.getAttribute('data-tab');
                    
                    // Update active state
                    document.querySelectorAll('.nav-link').forEach(nav => nav.classList.remove('active'));
                    link.classList.add('active');
                    
                    // Show placeholder for other tabs
                    if (tabName && tabName !== 'home') {
                        alert(`${tabName.charAt(0).toUpperCase() + tabName.slice(1)} page coming soon!`);
                    }
                    
                    console.log(`üîó Clicked on ${tabName} tab`);
                }
            });
            
            console.log('‚úÖ User interface setup complete');
        }

        // Show fallback content
        function showFallbackContent() {
            console.log('üîÑ Showing fallback content');
            
            updateElement('.hero-title', 'Welcome to Kasa Kolawole');
            updateElement('.hero-subtitle', 'Professional Portfolio & Services');
            updateElement('.hero-description', 'Explore my work and connect for your next project.');
            updateElement('.intro-text h2', 'About Me');
            updateElement('.section-title', 'Featured Services');
            updateElement('.cta-content h2', 'Ready to Get Started?');
            updateElement('.cta-content p', 'Let\'s work together to bring your vision to life.');
            
            console.log('‚úÖ Fallback content displayed');
        }

        // Utility function to update element text
        function updateElement(selector, text) {
            const element = document.querySelector(selector);
            if (element && text) {
                element.textContent = text;
            }
        }
    </script>
</body>
</html>